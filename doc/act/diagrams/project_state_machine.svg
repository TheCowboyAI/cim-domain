<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 420" width="900" height="420">
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="10" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L10,3 L0,6 Z" fill="#444" />
    </marker>
    <style><![CDATA[
      .node { fill: #eff6ff; stroke: #1d4ed8; stroke-width: 1.2; rx: 8; ry: 8; }
      .label { font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; font-size: 14px; fill: #1f2937; }
      .small { font-size: 12px; fill: #374151; }
      .edge { stroke: #444; stroke-width: 1.6; fill: none; marker-end: url(#arrow); }
      .title { font-size: 18px; font-weight: 600; }
    ]]></style>
  </defs>

  <text x="20" y="28" class="label title">ProjectAggregate — State Machine (endofunctor)</text>

  <rect x="80" y="160" width="160" height="56" class="node" />
  <text x="100" y="192" class="label">Proposed</text>

  <rect x="360" y="160" width="160" height="56" class="node" />
  <text x="380" y="192" class="label">Active</text>

  <rect x="640" y="60" width="160" height="56" class="node" />
  <text x="660" y="92" class="label">Completed</text>

  <rect x="640" y="260" width="160" height="56" class="node" />
  <text x="660" y="292" class="label">Cancelled</text>

  <path class="edge" d="M240,188 C280,188 320,188 360,188" />
  <text x="280" y="176" class="small">Activate</text>

  <path class="edge" d="M520,188 C580,160 600,120 640,88" />
  <text x="540" y="150" class="small">Complete</text>

  <path class="edge" d="M520,188 C580,216 600,248 640,288" />
  <text x="540" y="230" class="small">Cancel</text>

  <path class="edge" d="M240,188 C300,220 560,220 640,288" />
  <text x="290" y="246" class="small">Cancel</text>

  <text x="80" y="360" class="small">Compositions: Complete∘Activate∘Create = Completed; Cancel∘Activate∘Create = Cancelled. AddMember commutes with Activate on state (event order may differ).</text>
</svg>
